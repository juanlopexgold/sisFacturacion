USE [master]
GO
/****** Object:  Database [BD_VENTA_FACTURA]    Script Date: 23/8/2024 23:16:16 ******/
CREATE DATABASE [BD_VENTA_FACTURA]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'BD_VENTA_FACTURA', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL15.SQLEXPRESS\MSSQL\DATA\BD_VENTA_FACTURA.mdf' , SIZE = 8192KB , MAXSIZE = UNLIMITED, FILEGROWTH = 65536KB )
 LOG ON 
( NAME = N'BD_VENTA_FACTURA_log', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL15.SQLEXPRESS\MSSQL\DATA\BD_VENTA_FACTURA_log.ldf' , SIZE = 8192KB , MAXSIZE = 2048GB , FILEGROWTH = 65536KB )
 WITH CATALOG_COLLATION = DATABASE_DEFAULT
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET COMPATIBILITY_LEVEL = 150
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [BD_VENTA_FACTURA].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET ARITHABORT OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET AUTO_CLOSE ON 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET  ENABLE_BROKER 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET RECOVERY SIMPLE 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET  MULTI_USER 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET DB_CHAINING OFF 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET DELAYED_DURABILITY = DISABLED 
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET ACCELERATED_DATABASE_RECOVERY = OFF  
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET QUERY_STORE = OFF
GO
USE [BD_VENTA_FACTURA]
GO
/****** Object:  Table [dbo].[CATEGORIA]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CATEGORIA](
	[ID_CATEGORIA] [int] IDENTITY(1,1) NOT NULL,
	[NOMBRE_CATEGORIA] [nvarchar](100) NOT NULL,
	[ESTADO] [bit] NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_CATEGORIA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[CLIENTES]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CLIENTES](
	[ID_CLIENTE] [int] IDENTITY(1,1) NOT NULL,
	[NOMBRE_COMPAÑIA] [nvarchar](50) NULL,
	[NOMBRE_CONTACTO] [nvarchar](50) NULL,
	[APELLIDO_CONTACTO] [nvarchar](50) NULL,
	[GENERO] [nvarchar](1) NULL,
	[N_IDENTIFICACION] [nvarchar](20) NULL,
	[DIRECCION] [nvarchar](250) NULL,
	[TELEFONO] [nvarchar](20) NULL,
	[EMAIL] [nvarchar](50) NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_CLIENTE] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[DETALLE_INGRESO]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DETALLE_INGRESO](
	[ID_DETALLE_INGRESO] [int] IDENTITY(1,1) NOT NULL,
	[ID_INGRESO] [int] NOT NULL,
	[ID_PRODUCTO] [int] NOT NULL,
	[PRECIO_COMPRA] [money] NOT NULL,
	[PRECIO_VENTA] [money] NOT NULL,
	[STOCK_INICAL] [int] NOT NULL,
	[STOCK_ACTUAL] [int] NOT NULL,
	[FECHA_PRODUCCION] [date] NOT NULL,
	[FECHA_VENVIMIENTO] [date] NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_DETALLE_INGRESO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[DETALLE_VENTA]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DETALLE_VENTA](
	[ID_DETALLE_VENTA] [int] IDENTITY(1,1) NOT NULL,
	[ID_VENTA] [int] NOT NULL,
	[ID_DETALLE_INGRESO] [int] NOT NULL,
	[CANTIDAD] [int] NOT NULL,
	[PRECIO_VENTA] [money] NOT NULL,
	[DESCUENTO] [money] NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_DETALLE_VENTA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[EMPLEADOS]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[EMPLEADOS](
	[ID_EMPLEADO] [int] IDENTITY(1,1) NOT NULL,
	[NOMBRES] [nvarchar](100) NULL,
	[APELLIDOPATERNO] [nvarchar](50) NULL,
	[APELLIDOMATERNO] [nvarchar](50) NULL,
	[GENERO] [nvarchar](1) NULL,
	[FECHA_NAC] [date] NULL,
	[N_IDENTIFICACION] [nvarchar](20) NULL,
	[DIRECCION] [nvarchar](250) NULL,
	[TELEFONO] [nvarchar](20) NULL,
	[EMAIL] [nvarchar](50) NULL,
	[ACCESO] [varchar](20) NULL,
	[USUARIO] [varchar](20) NULL,
	[CLAVE] [varchar](20) NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_EMPLEADO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[INGRESO]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[INGRESO](
	[ID_INGRESO] [int] IDENTITY(1,1) NOT NULL,
	[ID_EMPLEADO] [int] NOT NULL,
	[ID_PROVEEDOR] [int] NOT NULL,
	[FECHA] [date] NOT NULL,
	[Estado] [varchar](7) NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_INGRESO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MARCA]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MARCA](
	[ID_MARCA] [int] IDENTITY(1,1) NOT NULL,
	[NOMBRE_MARCA] [nvarchar](100) NOT NULL,
	[ESTADO] [bit] NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_MARCA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[NPRODUCTO]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[NPRODUCTO](
	[ID_NPRODUCTO] [int] IDENTITY(1,1) NOT NULL,
	[NOMBRE_PRODUCTO] [nvarchar](100) NOT NULL,
	[ESTADO] [bit] NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_NPRODUCTO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PRODUCTO]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PRODUCTO](
	[ID_PRODUCTO] [int] IDENTITY(1,1) NOT NULL,
	[ID_NPRODUCTO] [int] NOT NULL,
	[ID_CATEGORIA] [int] NOT NULL,
	[ID_MARCA] [int] NOT NULL,
	[DESCRIPCION] [nvarchar](100) NULL,
	[ID_UMEDIDA] [int] NOT NULL,
	[ESTADO] [bit] NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_PRODUCTO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PROVEEDORES]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PROVEEDORES](
	[ID_PROVEEDOR] [int] IDENTITY(1,1) NOT NULL,
	[NOMBRE_COMPAÑIA] [nvarchar](50) NULL,
	[NOMBRE_CONTACTO] [nvarchar](50) NULL,
	[APELLIDO_CONTACTO] [nvarchar](50) NULL,
	[PUESTO_CONTACTO] [nvarchar](50) NULL,
	[GENERO] [nvarchar](1) NULL,
	[N_IDENTIFICACION] [nvarchar](20) NULL,
	[DIRECCION] [nvarchar](250) NULL,
	[TELEFONO] [nvarchar](20) NULL,
	[EMAIL] [nvarchar](50) NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_PROVEEDOR] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[UMEDIDA]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[UMEDIDA](
	[ID_UMEDIDA] [int] IDENTITY(1,1) NOT NULL,
	[UNIDAD_MEDIDA] [nvarchar](100) NOT NULL,
	[ESTADO] [bit] NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_UMEDIDA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[VENTA]    Script Date: 23/8/2024 23:16:17 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[VENTA](
	[ID_VENTA] [int] IDENTITY(1,1) NOT NULL,
	[ID_EMPLEADO] [int] NOT NULL,
	[ID_CLIENTE] [int] NOT NULL,
	[FECHA] [date] NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_VENTA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[CATEGORIA] ON 
GO
INSERT [dbo].[CATEGORIA] ([ID_CATEGORIA], [NOMBRE_CATEGORIA], [ESTADO]) VALUES (1, N'Lacteos', 1)
GO
INSERT [dbo].[CATEGORIA] ([ID_CATEGORIA], [NOMBRE_CATEGORIA], [ESTADO]) VALUES (2, N'Granos', 1)
GO
INSERT [dbo].[CATEGORIA] ([ID_CATEGORIA], [NOMBRE_CATEGORIA], [ESTADO]) VALUES (5, N'ENLATADOS', 1)
GO
INSERT [dbo].[CATEGORIA] ([ID_CATEGORIA], [NOMBRE_CATEGORIA], [ESTADO]) VALUES (6, N'LIMPIEZA', 1)
GO
INSERT [dbo].[CATEGORIA] ([ID_CATEGORIA], [NOMBRE_CATEGORIA], [ESTADO]) VALUES (8, N'XEDEXX', 1)
GO
SET IDENTITY_INSERT [dbo].[CATEGORIA] OFF
GO
SET IDENTITY_INSERT [dbo].[EMPLEADOS] ON 
GO
INSERT [dbo].[EMPLEADOS] ([ID_EMPLEADO], [NOMBRES], [APELLIDOPATERNO], [APELLIDOMATERNO], [GENERO], [FECHA_NAC], [N_IDENTIFICACION], [DIRECCION], [TELEFONO], [EMAIL], [ACCESO], [USUARIO], [CLAVE]) VALUES (5, N'JUAN NICOLAS', N'LOPEZ', N'BALTODANO', N'M', CAST(N'1999-01-17' AS Date), N'041-170199-1001g', N'san marcos carazo', N'81493176', N'juan.lopez@gmail.com', N'Administrador', N'juan', N'juan')
GO
INSERT [dbo].[EMPLEADOS] ([ID_EMPLEADO], [NOMBRES], [APELLIDOPATERNO], [APELLIDOMATERNO], [GENERO], [FECHA_NAC], [N_IDENTIFICACION], [DIRECCION], [TELEFONO], [EMAIL], [ACCESO], [USUARIO], [CLAVE]) VALUES (6, N'PEDRO JORGE', N'INFANTE', N'NEGRETE', N'M', CAST(N'1969-06-19' AS Date), N'635353', N'mexico', N'56868', N'pedroinfante.com', N'Vendedor', N'pedro', N'pedro')
GO
SET IDENTITY_INSERT [dbo].[EMPLEADOS] OFF
GO
SET IDENTITY_INSERT [dbo].[MARCA] ON 
GO
INSERT [dbo].[MARCA] ([ID_MARCA], [NOMBRE_MARCA], [ESTADO]) VALUES (1, N'Faizan', 1)
GO
INSERT [dbo].[MARCA] ([ID_MARCA], [NOMBRE_MARCA], [ESTADO]) VALUES (2, N'BIMBO', 1)
GO
INSERT [dbo].[MARCA] ([ID_MARCA], [NOMBRE_MARCA], [ESTADO]) VALUES (3, N'Lala', 1)
GO
INSERT [dbo].[MARCA] ([ID_MARCA], [NOMBRE_MARCA], [ESTADO]) VALUES (5, N'AURORA', 1)
GO
INSERT [dbo].[MARCA] ([ID_MARCA], [NOMBRE_MARCA], [ESTADO]) VALUES (7, N'COCACOLA', 1)
GO
INSERT [dbo].[MARCA] ([ID_MARCA], [NOMBRE_MARCA], [ESTADO]) VALUES (8, N'PEPSSI', 1)
GO
SET IDENTITY_INSERT [dbo].[MARCA] OFF
GO
SET IDENTITY_INSERT [dbo].[NPRODUCTO] ON 
GO
INSERT [dbo].[NPRODUCTO] ([ID_NPRODUCTO], [NOMBRE_PRODUCTO], [ESTADO]) VALUES (1, N'SARDINA', 1)
GO
INSERT [dbo].[NPRODUCTO] ([ID_NPRODUCTO], [NOMBRE_PRODUCTO], [ESTADO]) VALUES (2, N'FRIJOLES', 1)
GO
INSERT [dbo].[NPRODUCTO] ([ID_NPRODUCTO], [NOMBRE_PRODUCTO], [ESTADO]) VALUES (3, N'CREMA', 1)
GO
INSERT [dbo].[NPRODUCTO] ([ID_NPRODUCTO], [NOMBRE_PRODUCTO], [ESTADO]) VALUES (5, N'MAIZ', 1)
GO
INSERT [dbo].[NPRODUCTO] ([ID_NPRODUCTO], [NOMBRE_PRODUCTO], [ESTADO]) VALUES (6, N'GASEOSA', 1)
GO
INSERT [dbo].[NPRODUCTO] ([ID_NPRODUCTO], [NOMBRE_PRODUCTO], [ESTADO]) VALUES (7, N'ATUN', 1)
GO
SET IDENTITY_INSERT [dbo].[NPRODUCTO] OFF
GO
SET IDENTITY_INSERT [dbo].[PRODUCTO] ON 
GO
INSERT [dbo].[PRODUCTO] ([ID_PRODUCTO], [ID_NPRODUCTO], [ID_CATEGORIA], [ID_MARCA], [DESCRIPCION], [ID_UMEDIDA], [ESTADO]) VALUES (1, 1, 2, 1, N'Arros de buenea calidad', 1, 1)
GO
INSERT [dbo].[PRODUCTO] ([ID_PRODUCTO], [ID_NPRODUCTO], [ID_CATEGORIA], [ID_MARCA], [DESCRIPCION], [ID_UMEDIDA], [ESTADO]) VALUES (2, 2, 1, 2, N'Aceitede la mejor calidad', 3, 1)
GO
INSERT [dbo].[PRODUCTO] ([ID_PRODUCTO], [ID_NPRODUCTO], [ID_CATEGORIA], [ID_MARCA], [DESCRIPCION], [ID_UMEDIDA], [ESTADO]) VALUES (3, 3, 1, 3, N'Leche Enpacada', 2, 1)
GO
SET IDENTITY_INSERT [dbo].[PRODUCTO] OFF
GO
SET IDENTITY_INSERT [dbo].[PROVEEDORES] ON 
GO
INSERT [dbo].[PROVEEDORES] ([ID_PROVEEDOR], [NOMBRE_COMPAÑIA], [NOMBRE_CONTACTO], [APELLIDO_CONTACTO], [PUESTO_CONTACTO], [GENERO], [N_IDENTIFICACION], [DIRECCION], [TELEFONO], [EMAIL]) VALUES (1, N'cocacola', N'luis', N'alvares', N'repartidor', N'M', N'92884755', N'jinotepe', N'9385303', N'luis.cocacola@.com')
GO
SET IDENTITY_INSERT [dbo].[PROVEEDORES] OFF
GO
SET IDENTITY_INSERT [dbo].[UMEDIDA] ON 
GO
INSERT [dbo].[UMEDIDA] ([ID_UMEDIDA], [UNIDAD_MEDIDA], [ESTADO]) VALUES (1, N'Libra', 1)
GO
INSERT [dbo].[UMEDIDA] ([ID_UMEDIDA], [UNIDAD_MEDIDA], [ESTADO]) VALUES (2, N'UNIDADES', 1)
GO
INSERT [dbo].[UMEDIDA] ([ID_UMEDIDA], [UNIDAD_MEDIDA], [ESTADO]) VALUES (3, N'CAJA', 1)
GO
INSERT [dbo].[UMEDIDA] ([ID_UMEDIDA], [UNIDAD_MEDIDA], [ESTADO]) VALUES (5, N'GALON', 1)
GO
INSERT [dbo].[UMEDIDA] ([ID_UMEDIDA], [UNIDAD_MEDIDA], [ESTADO]) VALUES (6, N'LITRO', 1)
GO
INSERT [dbo].[UMEDIDA] ([ID_UMEDIDA], [UNIDAD_MEDIDA], [ESTADO]) VALUES (7, N'DOCENAS', 1)
GO
INSERT [dbo].[UMEDIDA] ([ID_UMEDIDA], [UNIDAD_MEDIDA], [ESTADO]) VALUES (8, N'UNIDADES', 1)
GO
INSERT [dbo].[UMEDIDA] ([ID_UMEDIDA], [UNIDAD_MEDIDA], [ESTADO]) VALUES (9, N'QUINTAL', 1)
GO
INSERT [dbo].[UMEDIDA] ([ID_UMEDIDA], [UNIDAD_MEDIDA], [ESTADO]) VALUES (10, N'RISTRA', 1)
GO
SET IDENTITY_INSERT [dbo].[UMEDIDA] OFF
GO
ALTER TABLE [dbo].[DETALLE_INGRESO]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_INGRESO_INGRESO] FOREIGN KEY([ID_INGRESO])
REFERENCES [dbo].[INGRESO] ([ID_INGRESO])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[DETALLE_INGRESO] CHECK CONSTRAINT [FK_DETALLE_INGRESO_INGRESO]
GO
ALTER TABLE [dbo].[DETALLE_INGRESO]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_INGRESO_PRODUCTO] FOREIGN KEY([ID_PRODUCTO])
REFERENCES [dbo].[PRODUCTO] ([ID_PRODUCTO])
GO
ALTER TABLE [dbo].[DETALLE_INGRESO] CHECK CONSTRAINT [FK_DETALLE_INGRESO_PRODUCTO]
GO
ALTER TABLE [dbo].[DETALLE_VENTA]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_VENTA_DETALLE_INGRESO] FOREIGN KEY([ID_DETALLE_INGRESO])
REFERENCES [dbo].[DETALLE_INGRESO] ([ID_DETALLE_INGRESO])
GO
ALTER TABLE [dbo].[DETALLE_VENTA] CHECK CONSTRAINT [FK_DETALLE_VENTA_DETALLE_INGRESO]
GO
ALTER TABLE [dbo].[DETALLE_VENTA]  WITH CHECK ADD  CONSTRAINT [FK_DETALLE_VENTA_VENTA] FOREIGN KEY([ID_VENTA])
REFERENCES [dbo].[VENTA] ([ID_VENTA])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[DETALLE_VENTA] CHECK CONSTRAINT [FK_DETALLE_VENTA_VENTA]
GO
ALTER TABLE [dbo].[INGRESO]  WITH CHECK ADD  CONSTRAINT [FK_INGRESO_EMPLEADOS] FOREIGN KEY([ID_EMPLEADO])
REFERENCES [dbo].[EMPLEADOS] ([ID_EMPLEADO])
GO
ALTER TABLE [dbo].[INGRESO] CHECK CONSTRAINT [FK_INGRESO_EMPLEADOS]
GO
ALTER TABLE [dbo].[INGRESO]  WITH CHECK ADD  CONSTRAINT [FK_INGRESO_PROVEEDORES] FOREIGN KEY([ID_PROVEEDOR])
REFERENCES [dbo].[PROVEEDORES] ([ID_PROVEEDOR])
GO
ALTER TABLE [dbo].[INGRESO] CHECK CONSTRAINT [FK_INGRESO_PROVEEDORES]
GO
ALTER TABLE [dbo].[PRODUCTO]  WITH CHECK ADD  CONSTRAINT [FK_PRODUCTO_CATEGORIA] FOREIGN KEY([ID_CATEGORIA])
REFERENCES [dbo].[CATEGORIA] ([ID_CATEGORIA])
GO
ALTER TABLE [dbo].[PRODUCTO] CHECK CONSTRAINT [FK_PRODUCTO_CATEGORIA]
GO
ALTER TABLE [dbo].[PRODUCTO]  WITH CHECK ADD  CONSTRAINT [FK_PRODUCTO_MARCA] FOREIGN KEY([ID_MARCA])
REFERENCES [dbo].[MARCA] ([ID_MARCA])
GO
ALTER TABLE [dbo].[PRODUCTO] CHECK CONSTRAINT [FK_PRODUCTO_MARCA]
GO
ALTER TABLE [dbo].[PRODUCTO]  WITH CHECK ADD  CONSTRAINT [FK_PRODUCTO_NPRODUCTO] FOREIGN KEY([ID_NPRODUCTO])
REFERENCES [dbo].[NPRODUCTO] ([ID_NPRODUCTO])
GO
ALTER TABLE [dbo].[PRODUCTO] CHECK CONSTRAINT [FK_PRODUCTO_NPRODUCTO]
GO
ALTER TABLE [dbo].[PRODUCTO]  WITH CHECK ADD  CONSTRAINT [FK_PRODUCTO_UMEDIDA] FOREIGN KEY([ID_UMEDIDA])
REFERENCES [dbo].[UMEDIDA] ([ID_UMEDIDA])
GO
ALTER TABLE [dbo].[PRODUCTO] CHECK CONSTRAINT [FK_PRODUCTO_UMEDIDA]
GO
ALTER TABLE [dbo].[VENTA]  WITH CHECK ADD  CONSTRAINT [FK_VENTA_CLIENTES] FOREIGN KEY([ID_CLIENTE])
REFERENCES [dbo].[CLIENTES] ([ID_CLIENTE])
GO
ALTER TABLE [dbo].[VENTA] CHECK CONSTRAINT [FK_VENTA_CLIENTES]
GO
ALTER TABLE [dbo].[VENTA]  WITH CHECK ADD  CONSTRAINT [FK_VENTA_EMPLEADOS] FOREIGN KEY([ID_EMPLEADO])
REFERENCES [dbo].[EMPLEADOS] ([ID_EMPLEADO])
GO
ALTER TABLE [dbo].[VENTA] CHECK CONSTRAINT [FK_VENTA_EMPLEADOS]
GO
/****** Object:  StoredProcedure [dbo].[spActualizar_Ariculo]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spActualizar_Ariculo]
@ID_PRODUCTO int,
@ID_NPRODUCTO int,
@ID_CATEGORIA int,
@ID_MARCA int,
@DESCRIPCION nvarchar(100),
@ID_UMEDIDA int,
@ESTADO bit
as
update PRODUCTO set
ID_NPRODUCTO = @ID_NPRODUCTO,
ID_CATEGORIA = @ID_CATEGORIA,
ID_MARCA = @ID_MARCA,
DESCRIPCION = @DESCRIPCION,
ID_UMEDIDA = @ID_UMEDIDA,
ESTADO = @ESTADO
where ID_PRODUCTO = @ID_PRODUCTO
GO
/****** Object:  StoredProcedure [dbo].[spActualizar_Categoria]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Actualizar
create proc [dbo].[spActualizar_Categoria]
@ID_CATEGORIA int,
@NOMBRE_CATEGORIA nvarchar (100),
@ESTADO bit
as
update CATEGORIA set
NOMBRE_CATEGORIA = @NOMBRE_CATEGORIA,
ESTADO = @ESTADO
where ID_CATEGORIA = @ID_CATEGORIA
GO
/****** Object:  StoredProcedure [dbo].[spActualizar_Clientes]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Actualizar
create proc [dbo].[spActualizar_Clientes]
@ID_CLIENTE int,
@NOMBRE_COMPAÑIA nvarchar(50),
@NOMBRE_CONTACTO nvarchar(50),
@APELLIDO_CONTACTO nvarchar(50),
@GENERO nvarchar(1),
@N_IDENTIFICACION nvarchar(20),
@DIRECCION nvarchar(250),
@TELEFONO nvarchar(20),
@EMAIL nvarchar(50)
as
update CLIENTES set
NOMBRE_COMPAÑIA = @NOMBRE_COMPAÑIA,
NOMBRE_CONTACTO = @NOMBRE_CONTACTO,
APELLIDO_CONTACTO = @APELLIDO_CONTACTO,
GENERO = @GENERO,
N_IDENTIFICACION = @N_IDENTIFICACION,
DIRECCION = @DIRECCION,
TELEFONO = @TELEFONO,
EMAIL = @EMAIL
where ID_CLIENTE = @ID_CLIENTE
GO
/****** Object:  StoredProcedure [dbo].[spActualizar_Empleado]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spActualizar_Empleado]
@ID_EMPLEADO int,
@NOMBRES nvarchar(100),
@APELLIDOPATERNO nvarchar(50),
@APELLIDOMATERNO nvarchar(50),
@GENERO nvarchar(1),
@FECHA_NAC date,
@N_IDENTIFICACION nvarchar(20),
@DIRECCION nvarchar(250),
@TELEFONO nvarchar(20),
@EMAIL nvarchar(50),
@ACCESO nvarchar(20),
@USUARIO nvarchar(20),
@CLAVE nvarchar(20)
as
update EMPLEADOS set
NOMBRES = @NOMBRES,
APELLIDOPATERNO = @APELLIDOPATERNO,
APELLIDOMATERNO = @APELLIDOMATERNO,
GENERO = @GENERO,
FECHA_NAC = @FECHA_NAC,
N_IDENTIFICACION = @N_IDENTIFICACION,
DIRECCION = @DIRECCION,
TELEFONO = @TELEFONO,
EMAIL = @EMAIL,
ACCESO = @ACCESO,
USUARIO = @USUARIO,
CLAVE = @CLAVE
where ID_EMPLEADO = @ID_EMPLEADO
GO
/****** Object:  StoredProcedure [dbo].[spActualizar_Marca]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Actualizar
create proc [dbo].[spActualizar_Marca]
@ID_MARCA int,
@NOMBRE_MARCA nvarchar (100),
@ESTADO bit
as
update MARCA set
NOMBRE_MARCA = @NOMBRE_MARCA,
ESTADO = @ESTADO
where ID_MARCA = @ID_MARCA
GO
/****** Object:  StoredProcedure [dbo].[spActualizar_Nproducto]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spActualizar_Nproducto]
@ID_NPRODUCTO int,
@NOMBRE_PRODUCTO nvarchar (100),
@ESTADO bit
as
update NPRODUCTO set
NOMBRE_PRODUCTO = @NOMBRE_PRODUCTO,
ESTADO = @ESTADO
where ID_NPRODUCTO = @ID_NPRODUCTO
GO
/****** Object:  StoredProcedure [dbo].[spActualizar_Proveedor]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spActualizar_Proveedor]
@ID_PROVEEDOR int,
@NOMBRE_COMPAÑIA nvarchar(50),
@NOMBRE_CONTACTO nvarchar(50),
@APELLIDO_CONTACTO nvarchar(50),
@PUESTO_CONTACTO nvarchar(50),
@GENERO nvarchar(1),
@N_IDENTIFICACION nvarchar(20),
@DIRECCION nvarchar(250),
@TELEFONO nvarchar(20),
@EMAIL nvarchar(50)
as
update PROVEEDORES set
NOMBRE_COMPAÑIA = @NOMBRE_COMPAÑIA,
NOMBRE_CONTACTO = @NOMBRE_CONTACTO,
APELLIDO_CONTACTO = @APELLIDO_CONTACTO,
PUESTO_CONTACTO = @PUESTO_CONTACTO,
GENERO = @GENERO,
N_IDENTIFICACION = @N_IDENTIFICACION,
DIRECCION = @DIRECCION,
TELEFONO = @TELEFONO,
EMAIL = @EMAIL
where ID_PROVEEDOR = @ID_PROVEEDOR
GO
/****** Object:  StoredProcedure [dbo].[spActualizar_Umedida]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Actualizar
create proc [dbo].[spActualizar_Umedida]
@ID_UMEDIDA int,
@UNIDAD_MEDIDA nvarchar (100),
@ESTADO bit
as
update UMEDIDA set
UNIDAD_MEDIDA = @UNIDAD_MEDIDA,
ESTADO = @ESTADO
where ID_UMEDIDA = @ID_UMEDIDA
GO
/****** Object:  StoredProcedure [dbo].[spAgregar_Ariculo]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spAgregar_Ariculo]
@ID_PRODUCTO int output,
@ID_NPRODUCTO int,
@ID_CATEGORIA int,
@ID_MARCA int,
@DESCRIPCION nvarchar(100),
@ID_UMEDIDA int,
@ESTADO bit
as
insert into PRODUCTO(ID_NPRODUCTO,ID_CATEGORIA,ID_MARCA,DESCRIPCION,ID_UMEDIDA,ESTADO)
values (@ID_NPRODUCTO,@ID_CATEGORIA,@ID_MARCA,@DESCRIPCION,@ID_UMEDIDA,@ESTADO)
GO
/****** Object:  StoredProcedure [dbo].[spAgregar_Categoria]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Agregar
create proc [dbo].[spAgregar_Categoria]
@ID_CATEGORIA int output,
@NOMBRE_CATEGORIA nvarchar (100),
@ESTADO bit
as
insert into CATEGORIA (NOMBRE_CATEGORIA,ESTADO)
values (@NOMBRE_CATEGORIA,@ESTADO)
GO
/****** Object:  StoredProcedure [dbo].[spAgregar_Clientes]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Agregar
create proc [dbo].[spAgregar_Clientes]
@ID_CLIENTE int output,
@NOMBRE_COMPAÑIA nvarchar(50),
@NOMBRE_CONTACTO nvarchar(50),
@APELLIDO_CONTACTO nvarchar(50),
@GENERO nvarchar(1),
@N_IDENTIFICACION nvarchar(20),
@DIRECCION nvarchar(250),
@TELEFONO nvarchar(20),
@EMAIL nvarchar(50)
as
insert into CLIENTES(NOMBRE_COMPAÑIA,NOMBRE_CONTACTO,APELLIDO_CONTACTO,GENERO,N_IDENTIFICACION,DIRECCION,TELEFONO,EMAIL)
values (@NOMBRE_COMPAÑIA,@NOMBRE_CONTACTO,@APELLIDO_CONTACTO,@GENERO,@N_IDENTIFICACION,@DIRECCION,@TELEFONO,@EMAIL)
GO
/****** Object:  StoredProcedure [dbo].[spAgregar_Empleado]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[spAgregar_Empleado]
@ID_EMPLEADO int output,
@NOMBRES nvarchar(100),
@APELLIDOPATERNO nvarchar(50),
@APELLIDOMATERNO nvarchar(50),
@GENERO nvarchar(1),
@FECHA_NAC date,
@N_IDENTIFICACION nvarchar(20),
@DIRECCION nvarchar(250),
@TELEFONO nvarchar(20),
@EMAIL nvarchar(50),
@ACCESO nvarchar(20),
@USUARIO nvarchar(20),
@CLAVE nvarchar(20)
as
insert into EMPLEADOS(NOMBRES,APELLIDOPATERNO,APELLIDOMATERNO,GENERO,FECHA_NAC,N_IDENTIFICACION,DIRECCION,TELEFONO,EMAIL,ACCESO,USUARIO,CLAVE)
values (@NOMBRES,@APELLIDOPATERNO,@APELLIDOMATERNO,@GENERO,@FECHA_NAC,@N_IDENTIFICACION,@DIRECCION,@TELEFONO,@EMAIL,@ACCESO,@USUARIO,@CLAVE)
GO
/****** Object:  StoredProcedure [dbo].[spAgregar_Marca]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Agregar
create proc [dbo].[spAgregar_Marca]
@ID_MARCA int output,
@NOMBRE_MARCA nvarchar (100),
@ESTADO bit
as
insert into MARCA (NOMBRE_MARCA,ESTADO)
values (@NOMBRE_MARCA,@ESTADO)
GO
/****** Object:  StoredProcedure [dbo].[spAgregar_Nproducto]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spAgregar_Nproducto]
@ID_NPRODUCTO int output,
@NOMBRE_PRODUCTO nvarchar (100),
@ESTADO bit
as
insert into NPRODUCTO (NOMBRE_PRODUCTO,ESTADO)
values (@NOMBRE_PRODUCTO,@ESTADO)
GO
/****** Object:  StoredProcedure [dbo].[spAgregar_Proveedor]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spAgregar_Proveedor]
@ID_PROVEEDOR int output,
@NOMBRE_COMPAÑIA nvarchar(50),
@NOMBRE_CONTACTO nvarchar(50),
@APELLIDO_CONTACTO nvarchar(50),
@PUESTO_CONTACTO nvarchar(50),
@GENERO nvarchar(1),
@N_IDENTIFICACION nvarchar(20),
@DIRECCION nvarchar(250),
@TELEFONO nvarchar(20),
@EMAIL nvarchar(50)
as
insert into PROVEEDORES(NOMBRE_COMPAÑIA,NOMBRE_CONTACTO,APELLIDO_CONTACTO,PUESTO_CONTACTO,GENERO,N_IDENTIFICACION,DIRECCION,TELEFONO,EMAIL)
values (@NOMBRE_COMPAÑIA,@NOMBRE_CONTACTO,@APELLIDO_CONTACTO,@PUESTO_CONTACTO,@GENERO,@N_IDENTIFICACION,@DIRECCION,@TELEFONO,@EMAIL)
GO
/****** Object:  StoredProcedure [dbo].[spAgregar_Umedida]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Agregar
create proc [dbo].[spAgregar_Umedida]
@ID_UMEDIDA int output,
@UNIDAD_MEDIDA nvarchar (100),
@ESTADO bit
as
insert into UMEDIDA(UNIDAD_MEDIDA,ESTADO)
values (@UNIDAD_MEDIDA,@ESTADO)
GO
/****** Object:  StoredProcedure [dbo].[spAnularIngreso]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Anular
create proc [dbo].[spAnularIngreso]
@ID_INGRESO int
as
update INGRESO set Estado = 'ANULADOO'
where ID_INGRESO = @ID_INGRESO
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Ariculo_Nombre]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spBuscar_Ariculo_Nombre]
@textoBuscar varchar(50)
as 
SELECT
dbo.PRODUCTO.ID_PRODUCTO, dbo.PRODUCTO.ID_NPRODUCTO, dbo.NPRODUCTO.NOMBRE_PRODUCTO as NOMBRE, dbo.PRODUCTO.ID_CATEGORIA, 
dbo.CATEGORIA.NOMBRE_CATEGORIA as CATEGORIA, dbo.PRODUCTO.ID_MARCA, dbo.MARCA.NOMBRE_MARCA as MARCA, dbo.PRODUCTO.DESCRIPCION, 
dbo.PRODUCTO.ID_UMEDIDA, dbo.UMEDIDA.UNIDAD_MEDIDA, dbo.PRODUCTO.ESTADO
FROM dbo.PRODUCTO INNER JOIN dbo.NPRODUCTO 
ON dbo.PRODUCTO.ID_NPRODUCTO = dbo.NPRODUCTO.ID_NPRODUCTO INNER JOIN dbo.CATEGORIA 
ON dbo.PRODUCTO.ID_CATEGORIA = dbo.CATEGORIA.ID_CATEGORIA INNER JOIN dbo.MARCA 
ON dbo.PRODUCTO.ID_MARCA = dbo.MARCA.ID_MARCA INNER JOIN dbo.UMEDIDA 
ON dbo.PRODUCTO.ID_UMEDIDA = dbo.UMEDIDA.ID_UMEDIDA
where dbo.NPRODUCTO.NOMBRE_PRODUCTO like @textoBuscar + '%'
order by dbo.PRODUCTO.ID_PRODUCTO desc
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Categoria]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Buscar
create proc [dbo].[spBuscar_Categoria]
@textoBuscar varchar(50)
as select * from CATEGORIA
where NOMBRE_CATEGORIA like @textoBuscar + '%'
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Clientes_AContacto]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Buscar por apellido Contacto
create proc [dbo].[spBuscar_Clientes_AContacto]
@textoBuscar varchar(50)
as 
SELECT * FROM CLIENTES
where APELLIDO_CONTACTO like @textoBuscar + '%'
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Clientes_NCompania]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Buscar por nombre compañia
create proc [dbo].[spBuscar_Clientes_NCompania]
@textoBuscar varchar(50)
as 
SELECT * FROM CLIENTES
where NOMBRE_COMPAÑIA like @textoBuscar + '%'
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Clientes_NContacto]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Buscar por nombre Contacto
create proc [dbo].[spBuscar_Clientes_NContacto]
@textoBuscar varchar(50)
as 
SELECT * FROM CLIENTES
where NOMBRE_CONTACTO like @textoBuscar + '%'
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Empleado_ApellioMaterno]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Buscar por nombre Contacto
create proc [dbo].[spBuscar_Empleado_ApellioMaterno]
@textoBuscar varchar(50)
as 
SELECT * FROM EMPLEADOS
where APELLIDOMATERNO like @textoBuscar + '%'
order by NOMBRES asc
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Empleado_ApellioPeterno]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Buscar por apellido Contacto
create proc [dbo].[spBuscar_Empleado_ApellioPeterno]
@textoBuscar varchar(50)
as 
SELECT * FROM EMPLEADOS
where APELLIDOPATERNO like @textoBuscar + '%'
order by NOMBRES asc
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Empleado_Nombres]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Buscar por nombre compañia
create proc [dbo].[spBuscar_Empleado_Nombres]
@textoBuscar varchar(50)
as 
SELECT * FROM EMPLEADOS
where NOMBRES like @textoBuscar + '%'
order by NOMBRES asc
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Marca]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Buscar
create proc [dbo].[spBuscar_Marca]
@textoBuscar varchar(50)
as select * from MARCA
where NOMBRE_MARCA like @textoBuscar + '%'
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Nproducto]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spBuscar_Nproducto]
@textoBuscar varchar(50)
as select * from NPRODUCTO
where NOMBRE_PRODUCTO like @textoBuscar + '%'
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Proveedor_AContacto]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spBuscar_Proveedor_AContacto]
@textoBuscar varchar(50)
as 
SELECT * FROM PROVEEDORES
where APELLIDO_CONTACTO like @textoBuscar + '%'
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Proveedor_NCompania]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spBuscar_Proveedor_NCompania]
@textoBuscar varchar(50)
as 
SELECT * FROM PROVEEDORES
where NOMBRE_COMPAÑIA like @textoBuscar + '%'
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Proveedor_NContacto]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spBuscar_Proveedor_NContacto]
@textoBuscar varchar(50)
as 
SELECT * FROM PROVEEDORES
where NOMBRE_CONTACTO like @textoBuscar + '%'
GO
/****** Object:  StoredProcedure [dbo].[spBuscar_Umedida]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Buscar
create proc [dbo].[spBuscar_Umedida]
@textoBuscar varchar(50)
as select * from UMEDIDA
where UNIDAD_MEDIDA like @textoBuscar + '%'
GO
/****** Object:  StoredProcedure [dbo].[spBuscarIngreso]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spBuscarIngreso]
@textoBuscar varchar(20),
@textoBuscar2 varchar(20)
as
select i.ID_INGRESO,(t.APELLIDOPATERNO+' '+t.NOMBRES) as Empleado, p.NOMBRE_COMPAÑIA as Proveedor, i.FECHA,i.Estado,
sum(d.PRECIO_COMPRA*d.STOCK_INICAL) as Total

from DETALLE_INGRESO d inner join INGRESO i on d.ID_INGRESO = i.ID_INGRESO
inner join PROVEEDORES p on i.ID_PROVEEDOR = p.ID_PROVEEDOR
inner join EMPLEADOS t on i.ID_EMPLEADO = t.ID_EMPLEADO

group by 
i.ID_INGRESO,t.APELLIDOPATERNO+' '+t.NOMBRES, p.NOMBRE_COMPAÑIA, i.FECHA,i.Estado
having i.FECHA >=@textoBuscar and i.FECHA <= @textoBuscar2
GO
/****** Object:  StoredProcedure [dbo].[spEliminar_Ariculo]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Eliinar
create proc [dbo].[spEliminar_Ariculo]
@ID_PRODUCTO int
as
delete from PRODUCTO 
where ID_PRODUCTO = @ID_PRODUCTO
GO
/****** Object:  StoredProcedure [dbo].[spEliminar_Categoria]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Eliinar
create proc [dbo].[spEliminar_Categoria]
@ID_CATEGORIA int
as
delete from CATEGORIA 
where ID_CATEGORIA = @ID_CATEGORIA
GO
/****** Object:  StoredProcedure [dbo].[spEliminar_Clientes]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Eliinar
create proc [dbo].[spEliminar_Clientes]
@ID_CLIENTE int
as
delete from CLIENTES 
where ID_CLIENTE = @ID_CLIENTE
GO
/****** Object:  StoredProcedure [dbo].[spEliminar_Empleado]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Eliinar
create proc [dbo].[spEliminar_Empleado]
@ID_EMPLEADO int
as
delete from EMPLEADOS 
where ID_EMPLEADO = @ID_EMPLEADO
GO
/****** Object:  StoredProcedure [dbo].[spEliminar_Marca]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Eliinar
create proc [dbo].[spEliminar_Marca]
@ID_MARCA int
as
delete from MARCA 
where ID_MARCA = @ID_MARCA
GO
/****** Object:  StoredProcedure [dbo].[spEliminar_Nproducto]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spEliminar_Nproducto]
@ID_NPRODUCTO int
as
delete from NPRODUCTO 
where ID_NPRODUCTO = @ID_NPRODUCTO
GO
/****** Object:  StoredProcedure [dbo].[spEliminar_Proveedor]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spEliminar_Proveedor]
@ID_PROVEEDOR int
as
delete from PROVEEDORES 
where ID_PROVEEDOR =@ID_PROVEEDOR
GO
/****** Object:  StoredProcedure [dbo].[spEliminar_Umedida]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Eliinar
create proc [dbo].[spEliminar_Umedida]
@ID_UMEDIDA int
as
delete from UMEDIDA 
where ID_UMEDIDA = @ID_UMEDIDA
GO
/****** Object:  StoredProcedure [dbo].[spInsertarDetalleIngreso]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spInsertarDetalleIngreso]
@ID_DETALLE_INGRESO int output,
@ID_INGRESO int,
@ID_PRODUCTO int,
@PRECIO_COMPRA money,
@PRECIO_VENTA money,
@STOCK_INICAL int,
@STOCK_ACTUAL int,
@FECHA_PRODUCCION date,
@FECHA_VENVIMIENTO date
as
insert into DETALLE_INGRESO (ID_INGRESO,ID_PRODUCTO,PRECIO_COMPRA,PRECIO_VENTA,STOCK_INICAL,STOCK_ACTUAL,FECHA_PRODUCCION,FECHA_VENVIMIENTO)
values (@ID_INGRESO,@ID_PRODUCTO,@PRECIO_COMPRA,@PRECIO_VENTA,@STOCK_INICAL,@STOCK_ACTUAL,@FECHA_PRODUCCION,@FECHA_VENVIMIENTO)
GO
/****** Object:  StoredProcedure [dbo].[spInsertarIngreso]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spInsertarIngreso]
@ID_INGRESO int=null output,
@ID_EMPLEADO int,
@ID_PROVEEDOR int,
@FECHA date,
@Estado varchar(7)
as
insert into INGRESO (ID_EMPLEADO,ID_PROVEEDOR,FECHA,Estado)
values (@ID_EMPLEADO,@ID_PROVEEDOR,@FECHA,@Estado)
set @ID_INGRESO=@@IDENTITY
GO
/****** Object:  StoredProcedure [dbo].[spLogin]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spLogin]
@USUARIO nvarchar(20),
@CLAVE nvarchar(20)
as
select ID_EMPLEADO,APELLIDOPATERNO,NOMBRES,ACCESO from EMPLEADOS
where USUARIO = @USUARIO and CLAVE = @CLAVE
GO
/****** Object:  StoredProcedure [dbo].[spMostrar_Ariculo]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spMostrar_Ariculo]
as
SELECT top 50
dbo.PRODUCTO.ID_PRODUCTO, dbo.PRODUCTO.ID_NPRODUCTO, dbo.NPRODUCTO.NOMBRE_PRODUCTO as NOMBRE, dbo.PRODUCTO.ID_CATEGORIA, 
dbo.CATEGORIA.NOMBRE_CATEGORIA as CATEGORIA, dbo.PRODUCTO.ID_MARCA, dbo.MARCA.NOMBRE_MARCA as MARCA, dbo.PRODUCTO.DESCRIPCION, 
dbo.PRODUCTO.ID_UMEDIDA, dbo.UMEDIDA.UNIDAD_MEDIDA, dbo.PRODUCTO.ESTADO
FROM dbo.PRODUCTO INNER JOIN dbo.NPRODUCTO 
ON dbo.PRODUCTO.ID_NPRODUCTO = dbo.NPRODUCTO.ID_NPRODUCTO INNER JOIN dbo.CATEGORIA 
ON dbo.PRODUCTO.ID_CATEGORIA = dbo.CATEGORIA.ID_CATEGORIA INNER JOIN dbo.MARCA 
ON dbo.PRODUCTO.ID_MARCA = dbo.MARCA.ID_MARCA INNER JOIN dbo.UMEDIDA 
ON dbo.PRODUCTO.ID_UMEDIDA = dbo.UMEDIDA.ID_UMEDIDA
order by dbo.PRODUCTO.ID_PRODUCTO desc
GO
/****** Object:  StoredProcedure [dbo].[spMostrar_Categoria]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Mostrar
create proc [dbo].[spMostrar_Categoria]
as
select top 50 * from CATEGORIA
order by ID_CATEGORIA desc
GO
/****** Object:  StoredProcedure [dbo].[spMostrar_Clientes]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Mostrar
create proc [dbo].[spMostrar_Clientes]
as
SELECT top 50 * FROM CLIENTES
order by NOMBRE_CONTACTO asc
GO
/****** Object:  StoredProcedure [dbo].[spMostrar_Empleado]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Mostrar
create proc [dbo].[spMostrar_Empleado]
as
SELECT top 50 * FROM EMPLEADOS
order by NOMBRES asc
GO
/****** Object:  StoredProcedure [dbo].[spMostrar_Marca]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Mostrar
create proc [dbo].[spMostrar_Marca]
as
select top 50 * from MARCA
order by ID_MARCA desc
GO
/****** Object:  StoredProcedure [dbo].[spMostrar_Nproducto]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spMostrar_Nproducto]
as
select top 50 * from NPRODUCTO
order by ID_NPRODUCTO desc
GO
/****** Object:  StoredProcedure [dbo].[spMostrar_Proveedor]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Mostrar
create proc [dbo].[spMostrar_Proveedor]
as
SELECT top 50 * FROM PROVEEDORES
order by NOMBRE_CONTACTO asc
GO
/****** Object:  StoredProcedure [dbo].[spMostrar_Umedida]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
--Mostrar
create proc [dbo].[spMostrar_Umedida]
as
select top 50 * from UMEDIDA
order by ID_UMEDIDA desc
GO
/****** Object:  StoredProcedure [dbo].[spMostrarDetelleIngreso]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[spMostrarDetelleIngreso]
@textoBuscar int
as
select d.ID_PRODUCTO, p.ID_NPRODUCTO as Producto, d.PRECIO_COMPRA,d.PRECIO_VENTA,d.STOCK_INICAL,d.FECHA_PRODUCCION,
d.FECHA_VENVIMIENTO,(d.STOCK_INICAL*d.PRECIO_COMPRA) as SubTotal

from DETALLE_INGRESO d inner join PRODUCTO p on d.ID_PRODUCTO = p.ID_PRODUCTO
where d.ID_INGRESO = @textoBuscar
GO
/****** Object:  StoredProcedure [dbo].[spMpstrarIngreso]    Script Date: 23/8/2024 23:16:18 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[spMpstrarIngreso]
as
select top 50 i.ID_INGRESO,(t.APELLIDOPATERNO+' '+t.NOMBRES) as Empleado, p.NOMBRE_COMPAÑIA as Proveedor, i.FECHA,i.Estado,
sum(d.PRECIO_COMPRA*d.STOCK_INICAL) as Total

from DETALLE_INGRESO d inner join INGRESO i on d.ID_INGRESO = i.ID_INGRESO
inner join PROVEEDORES p on i.ID_PROVEEDOR = p.ID_PROVEEDOR
inner join EMPLEADOS t on i.ID_EMPLEADO = t.ID_EMPLEADO

group by 
i.ID_INGRESO,t.APELLIDOPATERNO+' '+t.NOMBRES, p.NOMBRE_COMPAÑIA, i.FECHA,i.Estado
order by i.ID_INGRESO desc
GO
USE [master]
GO
ALTER DATABASE [BD_VENTA_FACTURA] SET  READ_WRITE 
GO
